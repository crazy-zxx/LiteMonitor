{
  "id": "ProxyLatency",
  "meta": {
    "name": "ç§‘å­¦èŠ‚ç‚¹å»¶è¿Ÿç›‘æ§",
    "version": "1.0",
    "author": "LiteMonitor",
    "description": "ä¸€èˆ¬Clashä»£ç†åœ°å€ä¸ºï¼š127.0.0.1:7890 (é»˜è®¤ç«¯å£ï¼Œä¸€èˆ¬æ— éœ€ä¿®æ”¹)ï¼Œå¦‚æµ‹è¯•æœ¬åœ°å»¶è¿Ÿåˆ™å…¨éƒ¨ç•™ç©º"
  },
  "inputs": [
    {
      "key": "proxy_server",
      "label": "æœ¬åœ°ä»£ç†åœ°å€",
      "default": "127.0.0.1:7890",
      "type": "text",
      "placeholder": "ç•™ç©ºåˆ™æœ¬åœ°ç›´è¿",
      "scope": "target"
    },
    {
      "key": "target_url",
      "label": "æµ‹è¯•æœåŠ¡å™¨",
      "default": "http://www.gstatic.com/generate_204",
      "type": "text",
      "placeholder": "ç•™ç©ºåˆ™å›½å†…æœåŠ¡å™¨",
      "scope": "target"
    }
  ],
  "execution": {
    "type": "chain",
    "interval": 5,
    "steps": [
      {
        "id": "ping",
        "url": "{{target_url ?? 'http://wifi.vivo.com.cn/generate_204'}}",
        "proxy": "{{proxy_server}}",
        "cache_minutes": 0,
        "process": [
          {
             "var": "latency_color",
             "source": "__latency__",
             "function": "threshold_switch",
             "value_map": {
                 "0": "0",
                 "200": "1",
                 "500": "2"
             }
          }
        ]
      }
    ]
  },
  "outputs": [
    {
      "key": "ms",
      "label": "{{proxy_server ? 'ä»£ç†å»¶è¿Ÿ' : 'æœ¬åœ°å»¶è¿Ÿ'}}",
      "short_label": "ğŸŒ",
      "format_val": "{{__latency__}}",
      "unit": " MS",
      "color": "{{latency_color}}"
    }
  ]
}