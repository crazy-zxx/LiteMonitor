{
  "id": "UniversalAPI",
  "meta": {
    "name": "通用API监控",
    "version": "1.0",
    "author": "LiteMonitor",
    "description": "通用JSON接口监控，自定义API地址，JSON路径支持点号data.val或数组data[0].val"
  },
  "inputs": [
    {
      "key": "target_url",
      "label": "API 地址",
      "type": "text",
      "default": "",
      "placeholder": "https://api.com/data",
      "scope": "target"
    },
    {
      "key": "json_path",
      "label": "JSON 路径",
      "type": "text",
      "default": "",
      "placeholder": "data.val或[0].val",
      "scope": "target"
    },
    {
      "key": "custom_label",
      "label": "显示名称",
      "type": "text",
      "default": "自定义",
      "placeholder": "如：比特币",
      "scope": "target"
    },
    {
      "key": "custom_color",
      "label": "显示颜色",
      "type": "select",
      "default": "0",
      "options": [
        { "label": "绿色", "value": "0" },
        { "label": "黄色", "value": "1" },
        { "label": "红色", "value": "2" }
      ],
      "scope": "target"
    }
  ],
  "execution": {
    "type": "chain",
    "interval": 60,
    "steps": [
      {
        "id": "fetch_api",
        "url": "{{target_url}}",
        "method": "GET",
        "response_format": "json",
        "extract": {
          "result_val": "{{json_path}}"
        }
      }
    ]
  },
  "outputs": [
    {
      "key": "val",
      "label": "{{custom_label ?? '自定义API'}}",
      "short_label": "{{custom_label ?? 'API'}}",
      "format_val": "{{result_val}}",
      "color": "{{custom_color}}",
      "unit": ""
    }
  ]
}